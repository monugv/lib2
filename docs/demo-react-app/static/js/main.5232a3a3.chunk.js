(this["webpackJsonpweb-imslib"]=this["webpackJsonpweb-imslib"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(57),s=n.n(l),o=(n(66),n(2)),r=n(4),c=n(6),m=n(5),d=n(7),u=n(15),h=n(1),b=(n(67),{initialUrl:"http://localhost:3000/",locationUrl:"https://localhost.corp.adobe.com:9000",imslibLocation:"https://auth-stg1.services.adobe.com/imslib/imslib.js",imslibThinLocation:"https://auth-stg1.services.adobe.com/imslib/imslib-thin.js"}),g=new(function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:"injectAdobeIms",value:function(){if(window.adobeIMS)return Promise.resolve(!0);var e=b.imslibLocation;return this.addScript(e)}},{key:"injectAdobeImsThin",value:function(){return this.addScript(b.imslibThinLocation)}},{key:"addScript",value:function(e){return new Promise((function(t,n){var a=document.createElement("script");a.src=e,a.onload=function(e){t(e)},a.onerror=function(e){n(e)},a.onabort=function(e){n(e)},document.head.appendChild(a)}))}}]),e}()),f=(n(68),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handler,n=e.text;return i.a.createElement("button",{className:"btn",onClick:function(){return t()}},n)}}]),t}(a.Component)),v=(n(12),n(24)),E=n.n(v),p=function(e){return i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.signIn,text:"Sign In"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.getAccessToken,text:"Get Access Token"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.getProfile,text:"Get profile"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.getReleaseFlags,text:"Get release flags"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.refreshToken,text:"Refresh Token"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.validateToken,text:"Validate Token"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.isSignedInUser,text:"Is User Signed In"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.reAuthenticateCheck,text:"Reauth (check)"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.reAuthenticateForce,text:"Reuth (force)"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.signOut,text:"Sign Out"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.listSocialProviders,text:"ListSocialProvidersSign"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.signInWithSocialProvider,text:"signInWithSocialProvider"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.avatarUrl,text:"avatar url"})),i.a.createElement(E.a,{src:e.imslibData}))},S=function e(t,n){var a=this;Object(o.a)(this,e),this.imsLib=null,this.imsData=null,this.getProfile=function(){a.imsLib.getProfile().then((function(e){a.imsData.adobeIdData.onProfile(e)}))},this.getReleaseFlags=function(){a.imsLib.getReleaseFlags().then((function(e){a.imsData.adobeIdData.flags=e})).catch((function(e){return a.imsData.adobeIdData.onError(e)}))},this.signIn=function(){a.imsLib.signIn()},this.signOut=function(){a.imsLib.signOut()},this.getFragmentValues=function(){return a.imsLib.fragmentValues()},this.getAccessToken=function(){var e=a.imsLib.getAccessToken();a.imsData.adobeIdData.onAccessToken(e)},this.refreshToken=function(){a.imsLib.refreshToken()},this.isSignedInUser=function(){return a.imsLib.isSignedInUser()},this.reAuthenticateCheck=function(){a.imsLib.reAuthenticate()},this.reAuthenticateForce=function(){a.imsLib.reAuthenticate({},"force")},this.getProfile=function(){a.imsLib.getProfile().then((function(e){a.imsData.adobeIdData.onProfile(e)})).catch((function(e){a.imsData.adobeIdData.onError(e)}))},this.validateToken=function(){a.imsLib.validateToken().then((function(e){a.imsData.onTokenValid(e)})).catch((function(e){a.imsData.adobeIdData.onError(e)}))},this.listSocialProviders=function(){a.imsLib.listSocialProviders().then((function(e){a.imsData.adobeIdData.onSocialProviders(e)})).catch((function(e){a.imsData.adobeIdData.onError(e)}))},this.signInWithSocialProvider=function(){a.imsLib.signInWithSocialProvider("google")},this.avatarUrl=function(){return a.imsLib.avatarUrl},this.imsLib=t,this.imsData=n},I=n(11),D=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(o.a)(this,e),this.imslibData={token:null,tokenValid:!1,isSignedInUser:!1,reauthToken:null,tokenHasExpired:!1,ready:!1,error:null,profile:null,appState:null},this.onStateChanged=null,this.adobeIdData={client_id:"IMSLibJSTestClient",scope:"AdobeID,openid,creative_cloud",locale:"en_US",environment:"stg1",onAccessToken:function(e){var t=Object(I.a)({},n.imslibData,{token:e,isSignedInUser:!0});n.triggerOnStateChanged(t)},onAccessTokenHasExpired:function(){var e=Object(I.a)({},n.imslibData,{tokenHasExpired:!0});n.triggerOnStateChanged(e)},onReauthAccessToken:function(e){var t=Object(I.a)({},n.imslibData,{reauthToken:e,isSignedInUser:!0});n.triggerOnStateChanged(t)},onError:function(e,t){var a=Object(I.a)({},n.imslibData,{error:{errortype:e,error:t},isSignedInUser:!0});n.triggerOnStateChanged(a)},onReady:function(e){var t=Object(I.a)({},n.imslibData,{ready:!0,appState:e});n.triggerOnStateChanged(t)},onProfile:function(e){var t=Object(I.a)({},n.imslibData,{profile:e});n.triggerOnStateChanged(t)}},this.onTokenValid=function(e){var t=Object(I.a)({},n.imslibData,{tokenValid:e,isSignedInUser:!0});n.triggerOnStateChanged(t)},this.onStateChanged=t,a&&(this.adobeIdData=Object(I.a)({},this.adobeIdData,{},a))}return Object(r.a)(e,[{key:"triggerOnStateChanged",value:function(e){this.imslibData=Object(I.a)({},e),this.onStateChanged(e)}}]),e}(),O=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).imsActions=null,e.imsEvents=null,e.onStateChanged=function(t){e.setState({imslibData:t})};var n=new D(e.onStateChanged);return window.adobeid=n.adobeIdData,e.state={initialized:!1,imslibData:n.imslibData},g.injectAdobeIms().then((function(){e.adobeIMS=window.adobeIMS,e.imsActions=new S(e.adobeIMS,n),e.setState({initialized:!0})})),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.initialized?i.a.createElement(p,{imsActions:this.imsActions,imslibData:this.state.imslibData}):i.a.createElement("div",null,"LOADING...")}}]),t}(i.a.Component),A=n(58),j=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this))).imsActions=null,n.imsEvents=null,n.onStateChanged=function(e){n.setState({imslibData:e})};var a=e.adobeid,i=new D(n.onStateChanged,a);return n.adobeIMS=new A.a(i.adobeIdData),n.state={initialized:!0,imslibData:i.imslibData},n.imsActions=new S(n.adobeIMS,i),n.adobeIMS.initialize(),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.initialized?i.a.createElement(p,{imsActions:this.imsActions,imslibData:this.state.imslibData}):i.a.createElement("div",null,"LOADING...")}}]),t}(i.a.Component),k=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).imsActions=null,n.imsEvents=null,n.client0={client_id:"IMSLibJSTestClient",locale:"en_US",scope:"AdobeID,openid",environment:"stage",key:"adobeIMS",logsEnabled:!0},n.client1={client_id:"IMSLibJSTestClient1",locale:"en_US",scope:"AdobeID,openid",environment:"stage",key:"client1",logsEnabled:!0},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"row"},i.a.createElement(j,{adobeid:this.client0}),i.a.createElement(j,{adobeid:this.client1}))}}]),t}(i.a.Component),w=(n(92),function(){return i.a.createElement("div",{className:"center-xs"},i.a.createElement("div",null,"This is a demo application used to help developers to integrate imslib v2"),i.a.createElement("div",null,"The application contains the following features:"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("strong",null,"CDN")," (the imslib.js file is read from https://auth-stg1.services.adobe.com/imslib/imslib.js)"),i.a.createElement("li",null,i.a.createElement("strong",null,"NPM")," (the imslib is installed by using the npm)"),i.a.createElement("li",null,i.a.createElement("strong",null,"Thin")," (the imslib.js file is read from https://auth-stg1.services.adobe.com/imslib/imslib-thin.js)"),i.a.createElement("li",null,i.a.createElement("strong",null,"Thin (NPM)"),"the thin version of imslib is added by installing the thin package library")),i.a.createElement("div",{className:"container-fluid row"},i.a.createElement("div",{className:"center-xs row mt3"},i.a.createElement("a",{href:"/pages/IMS/imslib2.js/demo-react-app/#/cdn",className:"item bgimg bgimg-cdn  cursor-pointer"},i.a.createElement("div",{className:"title"},"CDN")),i.a.createElement("a",{href:"/pages/IMS/imslib2.js/demo-react-app/#/npm",className:"item bgimg bgimg-npm  cursor-pointer"},i.a.createElement("div",{className:"title"},"NPM")),i.a.createElement("a",{href:"/pages/IMS/imslib2.js/demo-react-app/#/thin",className:"item bgimg bgimg-thin  cursor-pointer"},"Thin (CDN)"),i.a.createElement("a",{href:"/pages/IMS/imslib2.js/demo-react-app/#/thinnpm",className:" item bgimg bgimg-npm  cursor-pointer"},"Thin(NPM)"))))}),C=function(e){return i.a.createElement("div",{className:"row"},i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.signIn,text:"Sign In"})),i.a.createElement("div",null,i.a.createElement(f,{handler:e.imsActions.signOut,text:"Sign Out"})),i.a.createElement(E.a,{src:e.imslibData}))},T=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).imsActions=null,e.imsEvents=null,e.onStateChanged=function(t){e.setState({imslibData:t})};var n=new D(e.onStateChanged);return window.adobeid=n.adobeIdData,e.state={initialized:!1,imslibData:n.imslibData},g.injectAdobeImsThin().then((function(){e.adobeIMS=window.adobeIMS,e.imsActions=new S(e.adobeIMS,n),e.setState({initialized:!0})})),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.initialized?i.a.createElement(C,{imsActions:this.imsActions,imslibData:this.state.imslibData}):i.a.createElement("div",null,"LOADING...")}}]),t}(i.a.Component),L=n(59),M=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).imsActions=null,n.imsEvents=null,n.adobeid={client_id:"IMSLibJSTestClient",locale:"en_US",scope:"AdobeID,openid,creative_cloud",environment:"stg1",key:"adobeIMS",logsEnabled:!0},n.state={initialized:!0,imslibData:null},n.onStateChanged=function(e){var t=n.imsActions.getFragmentValues().access_token;t?n.setState({imslibData:Object(I.a)({},e,{token:t,isSignedInUser:!0})}):n.setState({imslibData:e})},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=new D(this.onStateChanged,this.adobeid);this.adobeIMS=new L.a(e.adobeIdData),this.imsActions=new S(this.adobeIMS,e),this.adobeIMS.initialize()}},{key:"render",value:function(){return this.state.initialized&&this.imsActions?i.a.createElement(C,{imsActions:this.imsActions,imslibData:this.state.imslibData}):i.a.createElement("div",null,"LOADING...")}}]),t}(i.a.Component),y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).getOldHash=function(e){if(!e)return"";var t=e.match("old_hash=(.*?)&from_ims=true");return t?decodeURIComponent(t[1]):""},n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.getOldHash(window.location.hash);return i.a.createElement(u.a,null,i.a.createElement("div",null,i.a.createElement("header",{className:"App-header"},i.a.createElement("svg",{className:"Gnav-logo-image",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 24 20",focusable:"false"},i.a.createElement("path",{fill:"#FF0000",d:"M15.1,0H24v20L15.1,0z M8.9,0H0v20L8.9,0z M12,7.4L17.6,20h-3.8l-1.6-4H8.1L12,7.4z"})),i.a.createElement("h4",null," Adobe IMS application testing ")),i.a.createElement("div",{className:"imsweb center-xs"},i.a.createElement("nav",null,i.a.createElement("ul",{className:"linear"},i.a.createElement("li",null,i.a.createElement(u.b,{to:"/"},"Home")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/cdn"},"CDN")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/npm"},"NPM")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/thin"},"Thin")),i.a.createElement("li",null,i.a.createElement(u.b,{to:"/thinnpm"},"Thin (NPM)")))),i.a.createElement(h.d,null,i.a.createElement(h.b,{path:"/cdn",component:O}),i.a.createElement(h.b,{path:"/npm",component:k}),i.a.createElement(h.b,{path:"/thin",component:T}),i.a.createElement(h.b,{path:"/thinnpm",component:M}),i.a.createElement(h.b,{path:"/",component:w})))),e?i.a.createElement(h.a,{push:!0,to:"".concat(e,"?").concat(window.location.hash)}):null)}}]),t}(a.Component);n(107),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},12:function(e,t,n){},61:function(e,t,n){e.exports=n(108)},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},92:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.5232a3a3.chunk.js.map